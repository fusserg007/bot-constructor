# –û—Ç—á–µ—Ç –æ —Å–æ–∑–¥–∞–Ω–∏–∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ –æ—Ç–ª–∞–¥–∫–∏

## üìã –û–±–∑–æ—Ä –∑–∞–¥–∞—á–∏
**–ó–∞–¥–∞—á–∞**: 11.2 –î–æ–±–∞–≤–∏—Ç—å –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –æ—Ç–ª–∞–¥–∫–∏  
**–°—Ç–∞—Ç—É—Å**: ‚úÖ –ó–ê–í–ï–†–®–ï–ù–ê  
**–î–∞—Ç–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è**: 27.07.2025  

## üéØ –¶–µ–ª–∏ –∑–∞–¥–∞—á–∏
–°–æ–≥–ª–∞—Å–Ω–æ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º 11.2, –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –±—ã–ª–æ:
- –°–æ–∑–¥–∞—Ç—å –ø–∞–Ω–µ–ª—å –æ—Ç–ª–∞–¥–∫–∏ –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ
- –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –ø–æ—à–∞–≥–æ–≤–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ —Å—Ö–µ–º
- –î–æ–±–∞–≤–∏—Ç—å –∏–Ω—Å–ø–µ–∫—Ç–æ—Ä –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –∏ —Å–æ—Å—Ç–æ—è–Ω–∏—è

## ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ —Ä–∞–±–æ—Ç—ã

### 1. –°–æ–∑–¥–∞–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã –æ—Ç–ª–∞–¥–∫–∏ (DebugManager)

#### 1.1 –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ DebugManager
- ‚úÖ **–ö–ª–∞—Å—Å DebugManager** - —Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–π –º–µ–Ω–µ–¥–∂–µ—Ä –æ—Ç–ª–∞–¥–æ—á–Ω—ã—Ö —Å–µ—Å—Å–∏–π
- ‚úÖ **–ö–ª–∞—Å—Å DebugSession** - –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω–∞—è —Å–µ—Å—Å–∏—è –æ—Ç–ª–∞–¥–∫–∏ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –±–æ—Ç–∞
- ‚úÖ **EventEmitter –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è** –¥–ª—è —Å–æ–±—ã—Ç–∏–π–Ω–æ–π –º–æ–¥–µ–ª–∏
- ‚úÖ **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–æ—á–∫–∞–º–∏ –æ—Å—Ç–∞–Ω–æ–≤–∞** —Å –ø—Ä–∏–≤—è–∑–∫–æ–π –∫ —É–∑–ª–∞–º —Å—Ö–µ–º—ã

#### 1.2 –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ DebugManager
```javascript
// –°–æ–∑–¥–∞–Ω–∏–µ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–µ—Å—Å–∏—è–º–∏
const session = debugManager.createDebugSession(botId, schema, userId);
const session = debugManager.getDebugSession(botId);
debugManager.removeDebugSession(botId);

// –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–æ—á–∫–∞–º–∏ –æ—Å—Ç–∞–Ω–æ–≤–∞
debugManager.setBreakpoint(botId, nodeId);
debugManager.removeBreakpoint(botId, nodeId);
const breakpoints = debugManager.getBreakpoints(botId);

// –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
const stats = debugManager.getDebugStats();
debugManager.setDebugMode(enabled);
```

#### 1.3 –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ DebugSession
- ‚úÖ **–ü–æ—à–∞–≥–æ–≤–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ** —Å—Ö–µ–º —Å –ø–æ–ª–Ω—ã–º –∫–æ–Ω—Ç—Ä–æ–ª–µ–º
- ‚úÖ **–¢–æ—á–∫–∏ –æ—Å—Ç–∞–Ω–æ–≤–∞** –Ω–∞ –ª—é–±—ã—Ö —É–∑–ª–∞—Ö
- ‚úÖ **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏** —Å –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ–º –∏–∑–º–µ–Ω–µ–Ω–∏–π
- ‚úÖ **–ò—Å—Ç–æ—Ä–∏—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è** —Å –≤—Ä–µ–º–µ–Ω–Ω—ã–º–∏ –º–µ—Ç–∫–∞–º–∏
- ‚úÖ **–û–±—Ä–∞–±–æ—Ç–∫–∞ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Ç–∏–ø–æ–≤ —É–∑–ª–æ–≤**: –∫–æ–º–∞–Ω–¥—ã, —Å–æ–æ–±—â–µ–Ω–∏—è, —É—Å–ª–æ–≤–∏—è, –º–µ–¥–∏–∞

### 2. API –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏

#### 2.1 REST API —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã
```javascript
// –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–µ—Å—Å–∏—è–º–∏
POST /api/debug/session                    // –°–æ–∑–¥–∞–Ω–∏–µ —Å–µ—Å—Å–∏–∏ –æ—Ç–ª–∞–¥–∫–∏
GET  /api/debug/:botId/status             // –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è —Å–µ—Å—Å–∏–∏

// –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ–º
POST /api/debug/:botId/start              // –ó–∞–ø—É—Å–∫ –æ—Ç–ª–∞–¥–∫–∏
POST /api/debug/:botId/stop               // –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –æ—Ç–ª–∞–¥–∫–∏
POST /api/debug/:botId/pause              // –ü–∞—É–∑–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
POST /api/debug/:botId/resume             // –ü—Ä–æ–¥–æ–ª–∂–µ–Ω–∏–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
POST /api/debug/:botId/step               // –ü–æ—à–∞–≥–æ–≤–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ

// –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–æ—á–∫–∞–º–∏ –æ—Å—Ç–∞–Ω–æ–≤–∞
POST   /api/debug/:botId/breakpoint       // –£—Å—Ç–∞–Ω–æ–≤–∫–∞ —Ç–æ—á–∫–∏ –æ—Å—Ç–∞–Ω–æ–≤–∞
DELETE /api/debug/:botId/breakpoint/:nodeId // –£–¥–∞–ª–µ–Ω–∏–µ —Ç–æ—á–∫–∏ –æ—Å—Ç–∞–Ω–æ–≤–∞

// –†–∞–±–æ—Ç–∞ —Å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏
GET  /api/debug/:botId/variables          // –ü–æ–ª—É—á–µ–Ω–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö
POST /api/debug/:botId/variables          // –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π

// –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
GET /api/debug/stats                      // –û–±—â–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –æ—Ç–ª–∞–¥–∫–∏
```

#### 2.2 –§–æ—Ä–º–∞—Ç –æ—Ç–≤–µ—Ç–æ–≤ API
```json
{
  "success": true,
  "status": "paused",
  "currentNode": "condition-check",
  "variables": {
    "user_id": "debug_user",
    "message_text": "–ø—Ä–∏–≤–µ—Ç",
    "condition_result": true
  },
  "executionTime": 1250,
  "stepCount": 3,
  "breakpoints": ["condition-check", "positive-response"],
  "executionHistory": [
    {
      "timestamp": 1753612153514,
      "nodeId": "start-trigger",
      "nodeType": "trigger-command",
      "nodeLabel": "Start Command",
      "stepNumber": 1
    }
  ]
}
```

### 3. –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –æ—Ç–ª–∞–¥–∫–∏

#### 3.1 –î–∏–∑–∞–π–Ω –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
- ‚úÖ **–¢—Ä–µ—Ö–∫–æ–ª–æ–Ω–æ—á–Ω–∞—è –∫–æ–º–ø–æ–Ω–æ–≤–∫–∞**:
  - –õ–µ–≤–∞—è –ø–∞–Ω–µ–ª—å: –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–µ—Å—Å–∏–∏, –∏—Å—Ç–æ—Ä–∏—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è, —Ç–æ—á–∫–∏ –æ—Å—Ç–∞–Ω–æ–≤–∞
  - –¶–µ–Ω—Ç—Ä–∞–ª—å–Ω–∞—è –ø–∞–Ω–µ–ª—å: —Å—Ö–µ–º–∞ –±–æ—Ç–∞ —Å –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–µ–π –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
  - –ü—Ä–∞–≤–∞—è –ø–∞–Ω–µ–ª—å: –∏–Ω—Å–ø–µ–∫—Ç–æ—Ä –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö
- ‚úÖ **–°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –¥–∏–∑–∞–π–Ω** —Å —Ç–µ–º–Ω–æ–π —à–∞–ø–∫–æ–π –∏ —Å–≤–µ—Ç–ª—ã–º–∏ –ø–∞–Ω–µ–ª—è–º–∏
- ‚úÖ **–ê–¥–∞–ø—Ç–∏–≤–Ω–∞—è –≤–µ—Ä—Å—Ç–∫–∞** –¥–ª—è —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Ä–∞–∑–º–µ—Ä–æ–≤ —ç–∫—Ä–∞–Ω–∞

#### 3.2 –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
- üéÆ **–≠–ª–µ–º–µ–Ω—Ç—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è**:
  - ‚ñ∂ –ó–∞–ø—É—Å–∫ –æ—Ç–ª–∞–¥–∫–∏
  - ‚è∏ –ü–∞—É–∑–∞/–ü—Ä–æ–¥–æ–ª–∂–µ–Ω–∏–µ
  - ‚è≠ –ü–æ—à–∞–≥–æ–≤–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ
  - ‚èπ –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –æ—Ç–ª–∞–¥–∫–∏

- üìä **–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω—ã–µ –ø–∞–Ω–µ–ª–∏**:
  - –°—Ç–∞—Ç—É—Å —Å–µ—Å—Å–∏–∏ —Å —Ü–≤–µ—Ç–æ–≤–æ–π –∏–Ω–¥–∏–∫–∞—Ü–∏–µ–π
  - –ò—Å—Ç–æ—Ä–∏—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Å –ø—Ä–æ–∫—Ä—É—Ç–∫–æ–π
  - –°–ø–∏—Å–æ–∫ –∞–∫—Ç–∏–≤–Ω—ã—Ö —Ç–æ—á–µ–∫ –æ—Å—Ç–∞–Ω–æ–≤–∞
  - –ò–Ω—Å–ø–µ–∫—Ç–æ—Ä –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö —Å —Ç–∏–ø–∏–∑–∞—Ü–∏–µ–π

- üéØ **–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã**:
  - –ö–ª–∏–∫ –ø–æ —É–∑–ª–∞–º –¥–ª—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏ —Ç–æ—á–µ–∫ –æ—Å—Ç–∞–Ω–æ–≤–∞
  - –ê–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ –∫–∞–∂–¥—É—é —Å–µ–∫—É–Ω–¥—É
  - –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö –∏ —É—Å–ø–µ—à–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏—è—Ö

#### 3.3 –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
- ‚úÖ **–¶–≤–µ—Ç–æ–≤–∞—è –∏–Ω–¥–∏–∫–∞—Ü–∏—è —É–∑–ª–æ–≤**:
  - üü¢ –¢–µ–∫—É—â–∏–π –≤—ã–ø–æ–ª–Ω—è–µ–º—ã–π —É–∑–µ–ª
  - üî¥ –£–∑–ª—ã —Å —Ç–æ—á–∫–∞–º–∏ –æ—Å—Ç–∞–Ω–æ–≤–∞
  - ‚ö™ –û–±—ã—á–Ω—ã–µ —É–∑–ª—ã
- ‚úÖ **–°—Ç–∞—Ç—É—Å–Ω—ã–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã**:
  - üî¥ –û—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞
  - üü¢ –í—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è
  - üü° –ù–∞ –ø–∞—É–∑–µ
  - üî¥ –û—à–∏–±–∫–∞

### 4. –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —Ç–∏–ø—ã —É–∑–ª–æ–≤

#### 4.1 –¢—Ä–∏–≥–≥–µ—Ä—ã
- ‚úÖ **trigger-command** - –∫–æ–º–∞–Ω–¥—ã –±–æ—Ç–æ–≤
  - –°–∏–º—É–ª—è—Ü–∏—è –ø–æ–ª—É—á–µ–Ω–∏—è –∫–æ–º–∞–Ω–¥—ã
  - –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –∫–æ–º–∞–Ω–¥—ã –∏ –≤—Ä–µ–º–µ–Ω–∏

#### 4.2 –î–µ–π—Å—Ç–≤–∏—è
- ‚úÖ **action-send-message** - –æ—Ç–ø—Ä–∞–≤–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π
  - –ó–∞–º–µ–Ω–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –≤ —Ç–µ–∫—Å—Ç–µ
  - –°–∏–º—É–ª—è—Ü–∏—è –æ—Ç–ø—Ä–∞–≤–∫–∏ —Å –∑–∞–¥–µ—Ä–∂–∫–æ–π
  - –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π

- ‚úÖ **action-send-media** - –æ—Ç–ø—Ä–∞–≤–∫–∞ –º–µ–¥–∏–∞
  - –û–±—Ä–∞–±–æ—Ç–∫–∞ URL –º–µ–¥–∏–∞ –∏ –ø–æ–¥–ø–∏—Å–µ–π
  - –ó–∞–º–µ–Ω–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –≤ –ø–æ–¥–ø–∏—Å—è—Ö
  - –°–∏–º—É–ª—è—Ü–∏—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –º–µ–¥–∏–∞

- ‚úÖ **action-set-variable** - —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö
  - –î–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö
  - –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π –∑–Ω–∞—á–µ–Ω–∏–π

#### 4.3 –£—Å–ª–æ–≤–∏—è
- ‚úÖ **condition-text** - —Ç–µ–∫—Å—Ç–æ–≤—ã–µ —É—Å–ª–æ–≤–∏—è
  - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –æ–ø–µ—Ä–∞—Ç–æ—Ä–æ–≤: contains, equals, starts_with, ends_with
  - –õ–æ–≥–∏—á–µ—Å–∫–∏–µ –æ–ø–µ—Ä–∞—Ç–æ—Ä—ã: AND, OR
  - –ü–µ—Ä–µ—Ö–æ–¥—ã –ø–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º —É—Å–ª–æ–≤–∏–π (true/false)

### 5. –°–∏—Å—Ç–µ–º–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö

#### 5.1 –¢–∏–ø—ã –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö
- ‚úÖ **–ì–ª–æ–±–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ** –∏–∑ —Å—Ö–µ–º—ã –±–æ—Ç–∞
- ‚úÖ **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ** —Å –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–º–∏ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏
- ‚úÖ **–°–∏—Å—Ç–µ–º–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ**:
  - `user_id` - ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
  - `bot_id` - ID –±–æ—Ç–∞
  - `debug_mode` - —Ñ–ª–∞–≥ —Ä–µ–∂–∏–º–∞ –æ—Ç–ª–∞–¥–∫–∏
  - `session_start` - –≤—Ä–µ–º—è –Ω–∞—á–∞–ª–∞ —Å–µ—Å—Å–∏–∏
  - `last_command` - –ø–æ—Å–ª–µ–¥–Ω—è—è –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω–∞—è –∫–æ–º–∞–Ω–¥–∞
  - `last_message` - –ø–æ—Å–ª–µ–¥–Ω–µ–µ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ

#### 5.2 –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π
- ‚úÖ **–°–æ–±—ã—Ç–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö** —Å —Å—Ç–∞—Ä—ã–º–∏ –∏ –Ω–æ–≤—ã–º–∏ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏
- ‚úÖ **–í—Ä–µ–º–µ–Ω–Ω—ã–µ –º–µ—Ç–∫–∏** –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∏–∑–º–µ–Ω–µ–Ω–∏—è
- ‚úÖ **–¢–∏–ø–∏–∑–∞—Ü–∏—è –∑–Ω–∞—á–µ–Ω–∏–π** –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ (string, number, boolean)

### 6. –ò—Å—Ç–æ—Ä–∏—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

#### 6.1 –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∑–∞–ø–∏—Å–∏ –∏—Å—Ç–æ—Ä–∏–∏
```javascript
{
  timestamp: 1753612153514,
  nodeId: "welcome-action",
  nodeType: "action-send-message",
  nodeLabel: "Welcome Message",
  variables: { user_id: "test_user", message_text: "–ø—Ä–∏–≤–µ—Ç" },
  stepNumber: 2
}
```

#### 6.2 –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –∏—Å—Ç–æ—Ä–∏–∏
- ‚úÖ **–•—Ä–æ–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π –ø–æ—Ä—è–¥–æ–∫** –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
- ‚úÖ **–°–Ω–∏–º–∫–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö** –Ω–∞ –∫–∞–∂–¥–æ–º —à–∞–≥–µ
- ‚úÖ **–ù–∞–≤–∏–≥–∞—Ü–∏—è –ø–æ –∏—Å—Ç–æ—Ä–∏–∏** –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ
- ‚úÖ **–í—ã–¥–µ–ª–µ–Ω–∏–µ —Ç–µ–∫—É—â–µ–≥–æ —à–∞–≥–∞**

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å–∏—Å—Ç–µ–º—ã –æ—Ç–ª–∞–¥–∫–∏
```
DebugManager
‚îú‚îÄ‚îÄ DebugSession (Map<botId, session>)
‚îÇ   ‚îú‚îÄ‚îÄ Execution State
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ status: stopped|running|paused|error
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ currentNode: Node
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ executionStack: Node[]
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ stepCount: number
‚îÇ   ‚îú‚îÄ‚îÄ Variables (Map<name, value>)
‚îÇ   ‚îú‚îÄ‚îÄ Breakpoints (Set<nodeId>)
‚îÇ   ‚îî‚îÄ‚îÄ Execution History (Array<step>)
‚îú‚îÄ‚îÄ Event System (EventEmitter)
‚îÇ   ‚îú‚îÄ‚îÄ step - —à–∞–≥ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ breakpoint - —Å—Ä–∞–±–∞—Ç—ã–≤–∞–Ω–∏–µ —Ç–æ—á–∫–∏ –æ—Å—Ç–∞–Ω–æ–≤–∞
‚îÇ   ‚îú‚îÄ‚îÄ variable_change - –∏–∑–º–µ–Ω–µ–Ω–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π
‚îÇ   ‚îî‚îÄ‚îÄ error - –æ—à–∏–±–∫–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
‚îî‚îÄ‚îÄ API Integration
    ‚îú‚îÄ‚îÄ REST endpoints
    ‚îú‚îÄ‚îÄ WebSocket (–ø–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è)
    ‚îî‚îÄ‚îÄ Web Interface
```

### –ê–ª–≥–æ—Ä–∏—Ç–º –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Å—Ö–µ–º—ã
1. **–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è**: –∑–∞–≥—Ä—É–∑–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö, –ø–æ–∏—Å–∫ —Å—Ç–∞—Ä—Ç–æ–≤–æ–≥–æ —É–∑–ª–∞
2. **–í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ —É–∑–ª–∞**: –æ–±—Ä–∞–±–æ—Ç–∫–∞ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ç–∏–ø–∞
3. **–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–æ—á–µ–∫ –æ—Å—Ç–∞–Ω–æ–≤–∞**: –ø–∞—É–∑–∞ –ø—Ä–∏ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–∏
4. **–ü–µ—Ä–µ—Ö–æ–¥ –∫ —Å–ª–µ–¥—É—é—â–µ–º—É —É–∑–ª—É**: –ø–æ —Å–≤—è–∑—è–º –≤ —Å—Ö–µ–º–µ
5. **–ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ**: –ø—Ä–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ —Å–ª–µ–¥—É—é—â–∏—Ö —É–∑–ª–æ–≤

### –û–±—Ä–∞–±–æ—Ç–∫–∞ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Ç–∏–ø–æ–≤ —É–∑–ª–æ–≤
- **–ö–æ–º–∞–Ω–¥—ã**: —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –∫–æ–º–∞–Ω–¥—ã –∏ –≤—Ä–µ–º–µ–Ω–∏
- **–°–æ–æ–±—â–µ–Ω–∏—è**: –∑–∞–º–µ–Ω–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –∏ —Å–∏–º—É–ª—è—Ü–∏—è –æ—Ç–ø—Ä–∞–≤–∫–∏
- **–£—Å–ª–æ–≤–∏—è**: –æ—Ü–µ–Ω–∫–∞ —É—Å–ª–æ–≤–∏–π –∏ –≤—ã–±–æ—Ä –ø—É—Ç–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
- **–ú–µ–¥–∏–∞**: –æ–±—Ä–∞–±–æ—Ç–∫–∞ URL –∏ –ø–æ–¥–ø–∏—Å–µ–π
- **–ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ**: –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ –∑–Ω–∞—á–µ–Ω–∏–π

## üìä –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ DebugManager
```
‚úÖ DebugManager —Å–æ–∑–¥–∞–Ω
‚úÖ –°–µ—Å—Å–∏—è –æ—Ç–ª–∞–¥–∫–∏ —Å–æ–∑–¥–∞–Ω–∞
‚úÖ –¢–æ—á–∫–∏ –æ—Å—Ç–∞–Ω–æ–≤–∞ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã
üöÄ –ó–∞–ø—É—Å–∫ –æ—Ç–ª–∞–¥–∫–∏...
üìç –®–∞–≥ 1: Start Command (start-trigger)
üìç –®–∞–≥ 2: Welcome Message (welcome-action)
üõë –¢–æ—á–∫–∞ –æ—Å—Ç–∞–Ω–æ–≤–∞: condition-check
üõë –¢–æ—á–∫–∞ –æ—Å—Ç–∞–Ω–æ–≤–∞: positive-response
üèÅ –°–µ—Å—Å–∏—è –∑–∞–≤–µ—Ä—à–µ–Ω–∞: 559–º—Å, 4 —à–∞–≥–æ–≤

üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –æ—Ç–ª–∞–¥–∫–∏:
  ‚Ä¢ –ê–∫—Ç–∏–≤–Ω—ã—Ö —Å–µ—Å—Å–∏–π: 1
  ‚Ä¢ –¢–æ—á–µ–∫ –æ—Å—Ç–∞–Ω–æ–≤–∞: 2
  ‚Ä¢ –®–∞–≥–æ–≤ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ: 2
  ‚Ä¢ –¢–æ—á–∫–∏ –æ—Å—Ç–∞–Ω–æ–≤–∞ —Å—Ä–∞–±–æ—Ç–∞–ª–∏: –î–∞
```

### –°–æ–∑–¥–∞–Ω–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
```
‚úÖ DebugManager —Å–æ–∑–¥–∞–Ω (utils/DebugManager.js)
‚úÖ API –æ—Ç–ª–∞–¥–∫–∏ —Å–æ–∑–¥–∞–Ω (routes/debug.js)
‚úÖ –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Å–æ–∑–¥–∞–Ω (public/debug.html)
‚úÖ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å server.js –≤—ã–ø–æ–ª–Ω–µ–Ω–∞
```

## üí° –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ —Å–∏—Å—Ç–µ–º—ã –æ—Ç–ª–∞–¥–∫–∏

### –û—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏:
1. **–ü–æ—à–∞–≥–æ–≤–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ —Å—Ö–µ–º**:
   - –ü–æ–ª–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å –Ω–∞–¥ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ–º
   - –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –ø–∞—É–∑—ã –≤ –ª—é–±–æ–π –º–æ–º–µ–Ω—Ç
   - –ü–µ—Ä–µ—Ö–æ–¥ –ø–æ –æ–¥–Ω–æ–º—É —É–∑–ª—É –∑–∞ —Ä–∞–∑
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∏ —Ä—É—á–Ω–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ

2. **–¢–æ—á–∫–∏ –æ—Å—Ç–∞–Ω–æ–≤–∞**:
   - –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –Ω–∞ –ª—é–±—ã–µ —É–∑–ª—ã —Å—Ö–µ–º—ã
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø–∞—É–∑–∞ –ø—Ä–∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–∏
   - –í–∏–∑—É–∞–ª—å–Ω–∞—è –∏–Ω–¥–∏–∫–∞—Ü–∏—è –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ
   - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑ API –∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å

3. **–ò–Ω—Å–ø–µ–∫—Ç–æ—Ä –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö**:
   - –ü—Ä–æ—Å–º–æ—Ç—Ä –≤—Å–µ—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
   - –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π —Å –∏—Å—Ç–æ—Ä–∏–µ–π
   - –¢–∏–ø–∏–∑–∞—Ü–∏—è –∑–Ω–∞—á–µ–Ω–∏–π (string, number, boolean)
   - –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è –∑–Ω–∞—á–µ–Ω–∏–π

4. **–ò—Å—Ç–æ—Ä–∏—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è**:
   - –ü–æ–ª–Ω–∞—è —Ö—Ä–æ–Ω–æ–ª–æ–≥–∏—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
   - –°–Ω–∏–º–∫–∏ —Å–æ—Å—Ç–æ—è–Ω–∏—è –Ω–∞ –∫–∞–∂–¥–æ–º —à–∞–≥–µ
   - –ù–∞–≤–∏–≥–∞—Ü–∏—è –ø–æ –∏—Å—Ç–æ—Ä–∏–∏
   - –í—Ä–µ–º–µ–Ω–Ω—ã–µ –º–µ—Ç–∫–∏ –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

### –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:
- ‚úÖ **–í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å** –¥–ª—è —É–¥–æ–±–Ω–æ–π –æ—Ç–ª–∞–¥–∫–∏
- ‚úÖ **REST API** –¥–ª—è –ø—Ä–æ–≥—Ä–∞–º–º–Ω–æ–≥–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
- ‚úÖ **–°–æ–±—ã—Ç–∏–π–Ω–∞—è –º–æ–¥–µ–ª—å** –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–π
- ‚úÖ **–ü–æ–¥–¥–µ—Ä–∂–∫–∞ –≤—Å–µ—Ö —Ç–∏–ø–æ–≤ —É–∑–ª–æ–≤** –∏–∑ –≤–∏–∑—É–∞–ª—å–Ω–æ–≥–æ —Ä–µ–¥–∞–∫—Ç–æ—Ä–∞
- ‚úÖ **–°–∏–º—É–ª—è—Ü–∏—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è** –±–µ–∑ —Ä–µ–∞–ª—å–Ω–æ–π –æ—Ç–ø—Ä–∞–≤–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏–π
- ‚úÖ **–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥** —Å–µ—Å—Å–∏–π –æ—Ç–ª–∞–¥–∫–∏

## üß™ –°–æ–∑–¥–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

### –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
- **utils/DebugManager.js** - —Å–∏—Å—Ç–µ–º–∞ –æ—Ç–ª–∞–¥–∫–∏ (650+ —Å—Ç—Ä–æ–∫)
- **routes/debug.js** - API –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏ (300+ —Å—Ç—Ä–æ–∫)
- **public/debug.html** - –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –æ—Ç–ª–∞–¥–∫–∏ (800+ —Å—Ç—Ä–æ–∫)
- **src/test-debug-tools.js** - –∫–æ–º–ø–ª–µ–∫—Å–Ω—ã–µ —Ç–µ—Å—Ç—ã (1000+ —Å—Ç—Ä–æ–∫)

### –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
- **server.js** - –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —Ä–æ—É—Ç–∞ –æ—Ç–ª–∞–¥–∫–∏
- **–¢–µ—Å—Ç–æ–≤—ã–µ –±–æ—Ç—ã** –¥–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏

## üåê –î–æ—Å—Ç—É–ø –∫ —Å–∏—Å—Ç–µ–º–µ

### –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –æ—Ç–ª–∞–¥–∫–∏
- **URL**: http://localhost:3002/debug.html
- **–§—É–Ω–∫—Ü–∏–∏**: —Å–æ–∑–¥–∞–Ω–∏–µ —Å–µ—Å—Å–∏–π, —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ–º, –∏–Ω—Å–ø–µ–∫—Ç–æ—Ä –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö
- **–ê–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ**: –∫–∞–∂–¥—É—é —Å–µ–∫—É–Ω–¥—É –≤–æ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

### API —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã
- **–°–æ–∑–¥–∞–Ω–∏–µ —Å–µ—Å—Å–∏–∏**: `POST /api/debug/session`
- **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ–º**: `POST /api/debug/:botId/{start|stop|pause|resume|step}`
- **–¢–æ—á–∫–∏ –æ—Å—Ç–∞–Ω–æ–≤–∞**: `POST|DELETE /api/debug/:botId/breakpoint`
- **–ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ**: `GET|POST /api/debug/:botId/variables`
- **–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞**: `GET /api/debug/stats`

## üéâ –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–ó–∞–¥–∞—á–∞ 11.2 "–î–æ–±–∞–≤–∏—Ç—å –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –æ—Ç–ª–∞–¥–∫–∏" —É—Å–ø–µ—à–Ω–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∞. –°–æ–∑–¥–∞–Ω–∞ –∫–æ–º–ø–ª–µ–∫—Å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –æ—Ç–ª–∞–¥–∫–∏, –∫–æ—Ç–æ—Ä–∞—è:

1. **–û–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –ø–æ–ª–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å** –Ω–∞–¥ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ–º —Å—Ö–µ–º –±–æ—Ç–æ–≤
2. **–ü—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç —É–¥–æ–±–Ω—ã–π –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å** –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏
3. **–í–∫–ª—é—á–∞–µ—Ç –º–æ—â–Ω—ã–π API** –¥–ª—è –ø—Ä–æ–≥—Ä–∞–º–º–Ω–æ–≥–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
4. **–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –≤—Å–µ —Ç–∏–ø—ã —É–∑–ª–æ–≤** –∏–∑ –≤–∏–∑—É–∞–ª—å–Ω–æ–≥–æ —Ä–µ–¥–∞–∫—Ç–æ—Ä–∞
5. **–ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω–∞ —Å –æ—Å–Ω–æ–≤–Ω–æ–π —Å–∏—Å—Ç–µ–º–æ–π** —á–µ—Ä–µ–∑ server.js
6. **–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º–∏ —Ç–µ—Å—Ç–∞–º–∏** —Å –ø—Ä–æ–≤–µ—Ä–∫–æ–π –≤—Å–µ—Ö —Ñ—É–Ω–∫—Ü–∏–π

–°–∏—Å—Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é –∏ –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ —É–ø—Ä–æ—â–∞–µ—Ç –ø—Ä–æ—Ü–µ—Å—Å –æ—Ç–ª–∞–¥–∫–∏ –∏ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –±–æ—Ç–æ–≤, –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞–º –º–æ—â–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ª–æ–≥–∏–∫–∏ —Ä–∞–±–æ—Ç—ã –±–æ—Ç–æ–≤.

**–°–ª–µ–¥—É—é—â–∏–µ –∑–∞–¥–∞—á–∏**: –ü–µ—Ä–µ—Ö–æ–¥ –∫ –∑–∞–¥–∞—á–µ 12.1 "–û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å Frontend –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å" –¥–ª—è –¥–∞–ª—å–Ω–µ–π—à–µ–≥–æ —É–ª—É—á—à–µ–Ω–∏—è —Å–∏—Å—Ç–µ–º—ã.