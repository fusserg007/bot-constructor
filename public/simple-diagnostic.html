<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>Простая диагностика</title>
</head>
<body>
    <h1>Диагностика загрузки JavaScript</h1>
    <div id="results"></div>
    
    <script>
        const results = document.getElementById('results');
        
        function addResult(message, success = true) {
            const div = document.createElement('div');
            div.style.color = success ? 'green' : 'red';
            div.textContent = message;
            results.appendChild(div);
        }
        
        // Проверяем загрузку по порядку
        addResult('1. HTML загружен');
        
        // Проверяем EditorDebugger
        const script1 = document.createElement('script');
        script1.src = 'js/EditorDebugger.js';
        script1.onload = () => {
            addResult('2. EditorDebugger.js загружен');
            addResult(`3. window.editorDebugger: ${!!window.editorDebugger}`);
            
            // Проверяем BotConstructorManager
            const script2 = document.createElement('script');
            script2.src = 'js/BotConstructorManager.js';
            script2.onload = () => {
                addResult('4. BotConstructorManager.js загружен');
                addResult(`5. window.botConstructorManager: ${!!window.botConstructorManager}`);
                
                // Проверяем app.js
                const script3 = document.createElement('script');
                script3.src = 'app.js';
                script3.onload = () => {
                    addResult('6. app.js загружен');
                    addResult(`7. BotConstructor class: ${typeof BotConstructor}`);
                    addResult(`8. window.botConstructor: ${!!window.botConstructor}`);
                    addResult(`9. window.backToDashboard: ${!!window.backToDashboard}`);
                };
                script3.onerror = (e) => {
                    addResult('6. ОШИБКА загрузки app.js', false);
                };
                document.head.appendChild(script3);
            };
            script2.onerror = (e) => {
                addResult('4. ОШИБКА загрузки BotConstructorManager.js', false);
            };
            document.head.appendChild(script2);
        };
        script1.onerror = (e) => {
            addResult('2. ОШИБКА загрузки EditorDebugger.js', false);
        };
        document.head.appendChild(script1);
    </script>
</body>
</html>